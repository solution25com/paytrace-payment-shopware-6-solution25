<template payTrace-payment-ach-echeck-plugin></template>
 <input
            type="hidden"
            id="{{ page.extensions.payTrace_payment.flow == 'payment_order'
            ? 'payTrace-transaction-id'
            : 'paytracePaymentData' }}"
            name="{{ page.extensions.payTrace_payment.flow == 'payment_order'
            ? 'payTrace_transaction_id'
            : 'paytracePaymentData' }}"
            form="confirmOrderForm"
            value=""
           {% if page.extensions.payTrace_payment.flow == 'payment_order' %}
                required="required"
            {% endif %}
    />
<div id="payTrace_payment" class="payTrace_ach_payment"
     data-payTrace-ach-echeck="true"
     data-client-key="{{ page.extensions.payTrace_payment.clientKey }}"
     data-mode="{{ page.extensions.payTrace_payment.mode }}"
     data-amount="{{ page.extensions.payTrace_payment.amount }}"
     data-flow="{{ page.extensions.payTrace_payment.flow }}">

    <form id="ach-form">

        <div id="paytrace-card-note-message" class="paytrace-card-note-message d-none">
            <span role="alert"> {{ "paytrace_shopware6.credit_card.submitError.billingInformationNote"|trans }}</span>
        </div>
        <div id="ach-data">
            <input type="text" class="ach-forma" id="ach-full-name" name="achFullName" placeholder="{{ 'paytrace_shopware6.ach_echeck.placeholder_full_name'|trans }}" required><br>
            <input type="text" class="form-control ach-forma pt-encrypt" id="achRoutingNumber" name="routingNumber" placeholder="{{ 'paytrace_shopware6.ach_echeck.placeholder_routing_number'|trans }}" required><br>
            <input type="text" class="form-control ach-forma pt-encrypt" id="achAccountNumber" name="accountNumber" placeholder="{{ 'paytrace_shopware6.ach_echeck.placeholder_account_number'|trans }}" required><br>
        </div>
        <div id="account-type-selection">
            <label>
                <input type="radio" name="accountType" value="Checking" checked>
                Checking
            </label>
            <label class="savings">
                <input type="radio" name="accountType" value="Savings">
                Savings
            </label>
            <div class="error-card-ech">
                <span class="ach-error-message  alert-danger d-none" id="ach-error-message" role="alert"></span>
            </div>
            <div id="paytrace-loading-indicator" class="d-none">
                <div class="spinner-border text-primary" role="status">
                    <span class="visually-hidden">Loading...</span>
                </div>
            </div>
        </div>

    </form>

    {% if page.extensions.payTrace_payment.mode == 'sandbox' %}
        <script src="https://api.sandbox.paytrace.com/v3/assets/js/e2ee/paytrace-e2ee.js"></script>
    {% else %}
        <script src="https://api.paytrace.com/v3/assets/js/e2ee/paytrace-e2ee.js"></script>
    {% endif %}

</div>

<div id="paytrace-ach-jsData" data-jsData="{{ {
    'translations': {
        'paytrace_shopware6.ach_echeck.submitError.missingFields': ('paytrace_shopware6.ach_echeck.submitError.missingFields'|trans),
        'paytrace_shopware6.ach_echeck.submitError.paymentFailed': ('paytrace_shopware6.ach_echeck.submitError.paymentFailed'|trans),
        'paytrace_shopware6.ach_echeck.submitError.generic': ('paytrace_shopware6.ach_echeck.submitError.generic'|trans)
    }
} | json_encode | escape('html_attr') }}"></div>
